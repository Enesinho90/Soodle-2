<form (ngSubmit)="onSubmit()" #profilForm="ngForm">
    <div class="title">
        <h1> Modifier un utilisateur</h1>
    </div>

    <div class="form-input">
        <label for="nom">Nom :</label>
        <input id="nom" name="nom" type="text" [(ngModel)]="nom" required />
    </div>
    <br>
    <div class="form-input">
        <label for="prenom">Prenom :</label>
        <input id="prenom" name="prenom" type="text" [(ngModel)]="prenom" required />
    </div>
    <br>
    <div class="form-input">
        <label for="mail">Mail :</label>
        <input id="mail" name="mail" type="email" [(ngModel)]="mail" required />
    </div>
    <br>
    <div class="form-input">
        <label for="role">Rôle :</label>
        <select id="role" name="role" (change)="updateRole($event)" [(ngModel)]="selectedRole" required>
            <option value="">Sélectionner un rôle</option>
            <option value="etudiant">Étudiant</option>
            <option value="professeur">Professeur</option>
            <option value="admin">Admin</option>
            <option value="admin/prof">Admin/Prof</option>
        </select>
    </div>
    <br>

    <div *ngIf="(!nom || !prenom || !mail || !selectedRole) && profilForm.submitted" class="error" style="color:red">
        Tous les champs doivent être renseignés et un rôle doit être sélectionné.
    </div>

    <button type="submit" [disabled]="!profilForm.form.valid">Valider</button>
    <div *ngIf="message" style="margin-top:1em;color:green">{{ message }}</div>
</form>